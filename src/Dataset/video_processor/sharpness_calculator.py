"""
Модуль для расчета остроты изображения.

Этот модуль предоставляет функции для вычисления
количественной оценки остроты изображения,
используя оператор Лапласа.
"""

import cv2


def get_sharpness_score(image):
    """
    Рассчитывает оценку остроты изображения.

    Функция преобразует изображение в оттенки серого
    и применяет оператор Лапласа для вычисления
    дисперсии значений градиента, что служит мерой остроты.

    Args:
        image: Входное изображение (BGR или RGB)

    Returns:
        float: Значение остроты (дисперсия Лапласиана)
               Чем выше значение, тем острее изображение
    """
    # Преобразуем изображение в оттенки серого
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    # Вычисляем дисперсию Лапласиана как меру остроты
    return cv2.Laplacian(gray, cv2.CV_64F).var()
